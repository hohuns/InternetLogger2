{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{usersActions}from\"./store/userSlice\";import NoteListS from\"./components/NoteListSarah\";import NoteListF from\"./components/NoteListF\";import AddNoteS from\"./components/AddNoteSarah\";import AddNoteF from\"./components/AddNoteF\";import\"./App.css\";import Login from\"./components/Login\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),noteF=_useState2[0],setNoteF=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),noteS=_useState4[0],setNoteS=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isCorrect=_useState8[0],setIsCorrect=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),mode=_useState10[0],setMode=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),userInfo=_useState14[0],SetUserInfo=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isFalse=_useState16[0],SetIsFalse=_useState16[1];var dispatch=useDispatch();var reduxUserInfo=useSelector(function(state){return state.user;});var logindb=[{name:\"아버지\",id:\"19687663\",pw:\"19687663\",mode:\"F\"},{name:\"어머니\",id:\"19757663\",pw:\"19757663\",mode:\"F\"},{name:\"성재\",id:\"19957663\",pw:\"19957663\",mode:\"F\"},{name:\"은지\",id:\"19967663\",pw:\"19967663\",mode:\"F\"},{name:\"Sarah\",id:\"sarah0623\",pw:\"sarah0623\",mode:\"S\"},{name:\"Hans\",id:\"hans0623\",pw:\"hans0623\",mode:\"S\"}];var formHandler=function formHandler(_ref,isFalse){var id=_ref.id,pw=_ref.pw;console.log(id,pw);console.log(id);var _iterator=_createForOfIteratorHelper(logindb),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var data=_step.value;if(id===data.id&&pw===data.pw){SetUserInfo(data.name);dispatch(usersActions.updateUser(data.name));setIsCorrect(true);SetIsFalse(true);if(data.mode===\"F\"){setMode(true);break;}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}};var fetchNoteHandlerS=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,loadedNotes,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\");case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;loadedNotes=[];for(key in data){loadedNotes.push({id:key,title:data[key].title,text:data[key].text,date:\"\".concat(data[key].logger,\" logged message at \").concat(data[key].date)});}console.log(loadedNotes);setNoteS(loadedNotes);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);setError(_context.t0.message);case 20:setIsLoading(false);case 21:case\"end\":return _context.stop();}}},_callee,null,[[2,17]]);})),[]);var fetchNoteHandlerF=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data,loadedNotes,key;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);setError(null);_context2.prev=2;_context2.next=5;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\");case 5:response=_context2.sent;if(response.ok){_context2.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context2.next=10;return response.json();case 10:data=_context2.sent;loadedNotes=[];for(key in data){loadedNotes.push({id:key,title:data[key].title,text:data[key].text,date:\"\".concat(data[key].logger,\"\\uB2D8\\uC774 \").concat(data[key].date,\"\\uC5D0 \\uB0A8\\uAE30\\uC168\\uC2B5\\uB2C8\\uB2E4..\")});}console.log(loadedNotes);setNoteF(loadedNotes);_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](2);setError(_context2.t0.message);case 20:setIsLoading(false);case 21:case\"end\":return _context2.stop();}}},_callee2,null,[[2,17]]);})),[]);useEffect(function(){fetchNoteHandlerS();fetchNoteHandlerF();},[fetchNoteHandlerS,fetchNoteHandlerF]);function addNoteHandlerS(_x){return _addNoteHandlerS.apply(this,arguments);}function _addNoteHandlerS(){_addNoteHandlerS=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(note){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\",{method:\"POST\",body:JSON.stringify(note),headers:{\"Content-Type\":\"appication/json\"}});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;console.log(data);fetchNoteHandlerS();case 8:case\"end\":return _context3.stop();}}},_callee3);}));return _addNoteHandlerS.apply(this,arguments);}function addNoteHandlerF(_x2){return _addNoteHandlerF.apply(this,arguments);}function _addNoteHandlerF(){_addNoteHandlerF=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(note){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\",{method:\"POST\",body:JSON.stringify(note),headers:{\"Content-Type\":\"appication/json\"}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;console.log(data);fetchNoteHandlerF();case 8:case\"end\":return _context4.stop();}}},_callee4);}));return _addNoteHandlerF.apply(this,arguments);}var content=/*#__PURE__*/React.createElement(\"p\",{color:\"white\"},\"Found no Notes.\");if(noteF.length>0&&mode){content=/*#__PURE__*/React.createElement(NoteListF,{note:noteF});}if(noteS.length>0&&!mode){content=/*#__PURE__*/React.createElement(NoteListS,{note:noteS});}if(error){content=/*#__PURE__*/React.createElement(\"p\",null,error);}if(isLoading){content=/*#__PURE__*/React.createElement(\"p\",{color:\"white\"},\"Loading...\");}return/*#__PURE__*/React.createElement(React.Fragment,null,!isCorrect?/*#__PURE__*/React.createElement(Login,{form:formHandler}):mode?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"\\uC5B4\\uC11C\\uC624\\uC138\\uC694..! \",userInfo,\"..\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"\\uBA54\\uC138\\uC9C0 \\uC591\\uC2DD\"),/*#__PURE__*/React.createElement(AddNoteF,{AddNote:addNoteHandlerF})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:fetchNoteHandlerF},\"\\uBA54\\uC138\\uC9C0 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uAE30\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"\\uBA54\\uC138\\uC9C0 \\uD568\"),content)):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Welcome..! \",userInfo,\"..\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Log Format\"),/*#__PURE__*/React.createElement(AddNoteS,{AddNote:addNoteHandlerS,logger:reduxUserInfo})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:fetchNoteHandlerS},\"Update Notes\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Log\"),content)));}export default App;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/Protek/연습파일/Web/리액트/리액트 프로젝트/InterLogger/src/App.js"],"names":["React","useState","useEffect","useCallback","useSelector","useDispatch","usersActions","NoteListS","NoteListF","AddNoteS","AddNoteF","Login","App","noteF","setNoteF","noteS","setNoteS","isLoading","setIsLoading","isCorrect","setIsCorrect","mode","setMode","error","setError","userInfo","SetUserInfo","isFalse","SetIsFalse","dispatch","reduxUserInfo","state","user","logindb","name","id","pw","formHandler","console","log","data","updateUser","fetchNoteHandlerS","fetch","response","ok","Error","json","loadedNotes","key","push","title","text","date","logger","message","fetchNoteHandlerF","addNoteHandlerS","note","method","body","JSON","stringify","headers","addNoteHandlerF","content","length","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { usersActions } from \"./store/userSlice\";\nimport NoteListS from \"./components/NoteListSarah\";\nimport NoteListF from \"./components/NoteListF\";\nimport AddNoteS from \"./components/AddNoteSarah\";\nimport AddNoteF from \"./components/AddNoteF\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\n\nfunction App() {\n  const [noteF, setNoteF] = useState([]);\n  const [noteS, setNoteS] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isCorrect, setIsCorrect] = useState(false);\n  const [mode, setMode] = useState(false);\n  const [error, setError] = useState(null);\n  const [userInfo, SetUserInfo] = useState();\n  const [isFalse, SetIsFalse] = useState(false);\n  const dispatch = useDispatch();\n  const reduxUserInfo = useSelector((state) => state.user);\n  const logindb = [\n    { name: \"아버지\", id: \"19687663\", pw: \"19687663\", mode: \"F\" },\n    { name: \"어머니\", id: \"19757663\", pw: \"19757663\", mode: \"F\" },\n    { name: \"성재\", id: \"19957663\", pw: \"19957663\", mode: \"F\" },\n    { name: \"은지\", id: \"19967663\", pw: \"19967663\", mode: \"F\" },\n    { name: \"Sarah\", id: \"sarah0623\", pw: \"sarah0623\", mode: \"S\" },\n    { name: \"Hans\", id: \"hans0623\", pw: \"hans0623\", mode: \"S\" },\n  ];\n\n  const formHandler = ({ id, pw }, isFalse) => {\n    console.log(id, pw);\n    console.log(id);\n    for (const data of logindb) {\n      if (id === data.id && pw === data.pw) {\n        SetUserInfo(data.name);\n        dispatch(usersActions.updateUser(data.name));\n        setIsCorrect(true);\n        SetIsFalse(true);\n        if (data.mode === \"F\") {\n          setMode(true);\n          break;\n        }\n      }\n    }\n  };\n\n  const fetchNoteHandlerS = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      const loadedNotes = [];\n      for (const key in data) {\n        loadedNotes.push({\n          id: key,\n          title: data[key].title,\n          text: data[key].text,\n          date: `${data[key].logger} logged message at ${data[key].date}`,\n        });\n      }\n\n      console.log(loadedNotes);\n      setNoteS(loadedNotes);\n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  }, []);\n\n  const fetchNoteHandlerF = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      const loadedNotes = [];\n      for (const key in data) {\n        loadedNotes.push({\n          id: key,\n          title: data[key].title,\n          text: data[key].text,\n          date: `${data[key].logger}님이 ${data[key].date}에 남기셨습니다..`,\n        });\n      }\n\n      console.log(loadedNotes);\n      setNoteF(loadedNotes);\n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchNoteHandlerS();\n    fetchNoteHandlerF();\n  }, [fetchNoteHandlerS, fetchNoteHandlerF]);\n\n  async function addNoteHandlerS(note) {\n    const response = await fetch(\n      \"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(note),\n        headers: {\n          \"Content-Type\": \"appication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n    fetchNoteHandlerS();\n  }\n\n  async function addNoteHandlerF(note) {\n    const response = await fetch(\n      \"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(note),\n        headers: {\n          \"Content-Type\": \"appication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n    fetchNoteHandlerF();\n  }\n\n  let content = <p color=\"white\">Found no Notes.</p>;\n\n  if (noteF.length > 0 && mode) {\n    content = <NoteListF note={noteF} />;\n  }\n\n  if (noteS.length > 0 && !mode) {\n    content = <NoteListS note={noteS} />;\n  }\n\n  if (error) {\n    content = <p>{error}</p>;\n  }\n\n  if (isLoading) {\n    content = <p color=\"white\">Loading...</p>;\n  }\n\n  return (\n    <>\n      {!isCorrect ? (\n        <Login form={formHandler}></Login>\n      ) : mode ? (\n        <div>\n          <section>\n            <h3 style={{ color: \"white\" }}>어서오세요..! {userInfo}..</h3>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>메세지 양식</h3>\n            <AddNoteF AddNote={addNoteHandlerF}></AddNoteF>\n          </section>\n          <section>\n            <button onClick={fetchNoteHandlerF}>메세지 업데이트 하기</button>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>메세지 함</h3>\n            {content}\n          </section>\n        </div>\n      ) : (\n        <div>\n          <section>\n            <h3 style={{ color: \"white\" }}>Welcome..! {userInfo}..</h3>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>Log Format</h3>\n            <AddNoteS\n              AddNote={addNoteHandlerS}\n              logger={reduxUserInfo}\n            ></AddNoteS>\n          </section>\n          <section>\n            <button onClick={fetchNoteHandlerS}>Update Notes</button>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>Log</h3>\n            {content}\n          </section>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}