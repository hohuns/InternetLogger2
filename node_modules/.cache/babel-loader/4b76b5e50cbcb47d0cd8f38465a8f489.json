{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/InterLogger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import NoteListS from\"./components/NoteListSarah\";import NoteListF from\"./components/NoteListF\";import AddNoteS from\"./components/AddNoteSarah\";import AddNoteF from\"./components/AddNoteF\";import\"./App.css\";import Login from\"./components/Login\";import{usersActions}from\"./store/userSlice\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),noteF=_useState2[0],setNoteF=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),noteS=_useState4[0],setNoteS=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isCorrect=_useState8[0],setIsCorrect=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),mode=_useState10[0],setMode=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),userInfo=_useState14[0],SetUserInfo=_useState14[1];var reduxUserInfo=useSelector(function(state){return state.user;});// const storedUserLoggedInInformation = localStorage.getItem(\"isCorrect\");\n// const storedUserLoggedInMode = localStorage.getItem(\"mode\");\nvar dispatch=useDispatch();var formHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var id,pw,response,data,temp,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_ref.id,pw=_ref.pw;_context.prev=1;_context.next=4;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/login.json\");case 4:response=_context.sent;if(response.ok){_context.next=7;break;}throw new Error(\"Something went wrong!\");case 7:_context.next=9;return response.json();case 9:data=_context.sent;temp=_toConsumableArray(Object.values(data)[0]);user=temp.find(function(u){return u.id===id&&u.pw===pw;});if(!user||user.pw!==pw){alert(\"\\uC544\\uC774\\uB514 \\uB610\\uB294 \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4..! \\nInvalid ID or Password..!\");}else{setMode(user.mode);setIsCorrect(true);SetUserInfo(user.name);dispatch(usersActions.updateUser(user.name));// localStorage.setItem(\"isCorrect\", \"1\");\n// localStorage.setItem(\"mode\", user.mode);\nalert(\"\\uD658\\uC601\\uD569\\uB2C8\\uB2E4.. \".concat(user.name,\"! \\nWelcome back.. \").concat(user.name,\"!\"));}console.log(user);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,16]]);}));return function formHandler(_x){return _ref2.apply(this,arguments);};}();console.log(mode);var logoutHandler=function logoutHandler(){setIsCorrect(false);alert(\"\\uC131\\uACF5\\uC801\\uC73C\\uB85C \\uB85C\\uADF8\\uC544\\uC6C3 \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\nLogout succesfully.\");};var fetchNoteHandlerS=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data,loadedNotes,key;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);setError(null);_context2.prev=2;_context2.next=5;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\");case 5:response=_context2.sent;if(response.ok){_context2.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context2.next=10;return response.json();case 10:data=_context2.sent;console.log(data);loadedNotes=[];for(key in data){loadedNotes.push({id:key,title:data[key].title,text:data[key].text,date:\"\".concat(data[key].logger,\" logged message at \").concat(data[key].date,\"....\")});}loadedNotes.reverse();console.log(loadedNotes);setNoteS(loadedNotes);_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2[\"catch\"](2);setError(_context2.t0.message);case 22:setIsLoading(false);case 23:case\"end\":return _context2.stop();}}},_callee2,null,[[2,19]]);})),[]);var fetchNoteHandlerF=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data,loadedNotes,key;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setIsLoading(true);setError(null);_context3.prev=2;_context3.next=5;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\");case 5:response=_context3.sent;if(response.ok){_context3.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context3.next=10;return response.json();case 10:data=_context3.sent;loadedNotes=[];for(key in data){loadedNotes.push({id:key,title:data[key].title,text:data[key].text,date:\"\".concat(data[key].logger,\"\\uB2D8\\uC774 \").concat(data[key].date,\"\\uC5D0 \\uB0A8\\uAE30\\uC168\\uC2B5\\uB2C8\\uB2E4..\")});}loadedNotes.reverse();console.log(loadedNotes);setNoteF(loadedNotes);_context3.next=21;break;case 18:_context3.prev=18;_context3.t0=_context3[\"catch\"](2);setError(_context3.t0.message);case 21:setIsLoading(false);case 22:case\"end\":return _context3.stop();}}},_callee3,null,[[2,18]]);})),[]);function addNoteHandlerS(_x2){return _addNoteHandlerS.apply(this,arguments);}function _addNoteHandlerS(){_addNoteHandlerS=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(note){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\",{method:\"POST\",body:JSON.stringify(note),headers:{\"Content-Type\":\"appication/json\"}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;console.log(data);fetchNoteHandlerS();case 8:case\"end\":return _context4.stop();}}},_callee4);}));return _addNoteHandlerS.apply(this,arguments);}function addNoteHandlerF(_x3){return _addNoteHandlerF.apply(this,arguments);}function _addNoteHandlerF(){_addNoteHandlerF=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(note){var response,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\",{method:\"POST\",body:JSON.stringify(note),headers:{\"Content-Type\":\"appication/json\"}});case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:data=_context5.sent;console.log(data);fetchNoteHandlerF();case 8:case\"end\":return _context5.stop();}}},_callee5);}));return _addNoteHandlerF.apply(this,arguments);}useEffect(function(){fetchNoteHandlerF();fetchNoteHandlerS();},[fetchNoteHandlerF,fetchNoteHandlerS]);var content=/*#__PURE__*/React.createElement(\"p\",{style:{color:\"white\"}},\"Found no Notes.\");if(noteF.length>0&&mode===\"F\"){content=/*#__PURE__*/React.createElement(NoteListF,{note:noteF});}if(noteS.length>0&&mode===\"S\"){content=/*#__PURE__*/React.createElement(NoteListS,{note:noteS});}if(error){content=/*#__PURE__*/React.createElement(\"p\",{style:{color:\"white\"}},error);}if(isLoading){content=/*#__PURE__*/React.createElement(\"p\",{style:{color:\"white\"}},\"Loading...\");}return/*#__PURE__*/React.createElement(React.Fragment,null,!isCorrect?/*#__PURE__*/React.createElement(Login,{form:formHandler}):mode===\"F\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"\\uC5B4\\uC11C\\uC624\\uC138\\uC694..! \",userInfo,\" ..\"),/*#__PURE__*/React.createElement(\"button\",{onClick:logoutHandler},\" \\uB85C\\uADF8\\uC544\\uC6C3\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"\\uBA54\\uC138\\uC9C0 \\uC591\\uC2DD\"),/*#__PURE__*/React.createElement(AddNoteF,{AddNote:addNoteHandlerF})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:fetchNoteHandlerF},\"\\uBA54\\uC138\\uC9C0 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uAE30\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"\\uBA54\\uC138\\uC9C0 \\uD568\"),content)):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Welcome..! \",userInfo,\"..\"),/*#__PURE__*/React.createElement(\"button\",{onClick:logoutHandler},\" Logout\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Log Format\"),/*#__PURE__*/React.createElement(AddNoteS,{AddNote:addNoteHandlerS,logger:reduxUserInfo})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:fetchNoteHandlerS},\"Update Notes\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Log\"),content)));}export default App;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/Protek/연습파일/Web/리액트/리액트 프로젝트/InterLogger/src/App.js"],"names":["React","useState","useCallback","useEffect","useSelector","useDispatch","NoteListS","NoteListF","AddNoteS","AddNoteF","Login","usersActions","App","noteF","setNoteF","noteS","setNoteS","isLoading","setIsLoading","isCorrect","setIsCorrect","mode","setMode","error","setError","userInfo","SetUserInfo","reduxUserInfo","state","user","dispatch","formHandler","id","pw","fetch","response","ok","Error","json","data","temp","Object","values","find","u","alert","name","updateUser","console","log","message","logoutHandler","fetchNoteHandlerS","loadedNotes","key","push","title","text","date","logger","reverse","fetchNoteHandlerF","addNoteHandlerS","note","method","body","JSON","stringify","headers","addNoteHandlerF","content","color","length"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport NoteListS from \"./components/NoteListSarah\";\nimport NoteListF from \"./components/NoteListF\";\nimport AddNoteS from \"./components/AddNoteSarah\";\nimport AddNoteF from \"./components/AddNoteF\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\nimport { usersActions } from \"./store/userSlice\";\n\nfunction App() {\n  const [noteF, setNoteF] = useState([]);\n  const [noteS, setNoteS] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isCorrect, setIsCorrect] = useState(false);\n  const [mode, setMode] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [userInfo, SetUserInfo] = useState();\n  const reduxUserInfo = useSelector((state) => state.user);\n  // const storedUserLoggedInInformation = localStorage.getItem(\"isCorrect\");\n  // const storedUserLoggedInMode = localStorage.getItem(\"mode\");\n  const dispatch = useDispatch();\n\n  const formHandler = async ({ id, pw }) => {\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/login.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      const temp = [...Object.values(data)[0]];\n      const user = temp.find((u) => u.id === id && u.pw === pw);\n      if (!user || user.pw !== pw) {\n        alert(\n          `아이디 또는 비밀번호가 일치하지 않습니다..! \\nInvalid ID or Password..!`\n        );\n      } else {\n        setMode(user.mode);\n        setIsCorrect(true);\n        SetUserInfo(user.name);\n        dispatch(usersActions.updateUser(user.name));\n        // localStorage.setItem(\"isCorrect\", \"1\");\n        // localStorage.setItem(\"mode\", user.mode);\n        alert(`환영합니다.. ${user.name}! \\nWelcome back.. ${user.name}!`);\n      }\n      console.log(user);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  console.log(mode);\n  const logoutHandler = () => {\n    setIsCorrect(false);\n    alert(`성공적으로 로그아웃 되었습니다. \\nLogout succesfully.`);\n  };\n\n  const fetchNoteHandlerS = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n      const loadedNotes = [];\n      for (const key in data) {\n        loadedNotes.push({\n          id: key,\n          title: data[key].title,\n          text: data[key].text,\n          date: `${data[key].logger} logged message at ${data[key].date}....`,\n        });\n      }\n      loadedNotes.reverse();\n      console.log(loadedNotes);\n      setNoteS(loadedNotes);\n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  }, []);\n\n  const fetchNoteHandlerF = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      const loadedNotes = [];\n      for (const key in data) {\n        loadedNotes.push({\n          id: key,\n          title: data[key].title,\n          text: data[key].text,\n          date: `${data[key].logger}님이 ${data[key].date}에 남기셨습니다..`,\n        });\n      }\n      loadedNotes.reverse();\n      console.log(loadedNotes);\n      setNoteF(loadedNotes);\n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  }, []);\n\n  async function addNoteHandlerS(note) {\n    const response = await fetch(\n      \"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(note),\n        headers: {\n          \"Content-Type\": \"appication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n    fetchNoteHandlerS();\n  }\n\n  async function addNoteHandlerF(note) {\n    const response = await fetch(\n      \"https://react-http-2887f-default-rtdb.firebaseio.com/notes2.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(note),\n        headers: {\n          \"Content-Type\": \"appication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n    fetchNoteHandlerF();\n  }\n  useEffect(() => {\n    fetchNoteHandlerF();\n    fetchNoteHandlerS();\n  }, [fetchNoteHandlerF, fetchNoteHandlerS]);\n\n  let content = <p style={{ color: \"white\" }}>Found no Notes.</p>;\n\n  if (noteF.length > 0 && mode === \"F\") {\n    content = <NoteListF note={noteF} />;\n  }\n\n  if (noteS.length > 0 && mode === \"S\") {\n    content = <NoteListS note={noteS} />;\n  }\n\n  if (error) {\n    content = <p style={{ color: \"white\" }}>{error}</p>;\n  }\n\n  if (isLoading) {\n    content = <p style={{ color: \"white\" }}>Loading...</p>;\n  }\n\n  return (\n    <>\n      {!isCorrect ? (\n        <Login form={formHandler}></Login>\n      ) : mode === \"F\" ? (\n        <div>\n          <section>\n            <h3 style={{ color: \"white\" }}>어서오세요..! {userInfo} ..</h3>\n            <button onClick={logoutHandler}> 로그아웃</button>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>메세지 양식</h3>\n            <AddNoteF AddNote={addNoteHandlerF}></AddNoteF>\n          </section>\n          <section>\n            <button onClick={fetchNoteHandlerF}>메세지 업데이트 하기</button>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>메세지 함</h3>\n            {content}\n          </section>\n        </div>\n      ) : (\n        <div>\n          <section>\n            <h3 style={{ color: \"white\" }}>Welcome..! {userInfo}..</h3>\n            <button onClick={logoutHandler}> Logout</button>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>Log Format</h3>\n            <AddNoteS\n              AddNote={addNoteHandlerS}\n              logger={reduxUserInfo}\n            ></AddNoteS>\n          </section>\n          <section>\n            <button onClick={fetchNoteHandlerS}>Update Notes</button>\n          </section>\n          <section>\n            <h3 style={{ color: \"white\" }}>Log</h3>\n            {content}\n          </section>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}