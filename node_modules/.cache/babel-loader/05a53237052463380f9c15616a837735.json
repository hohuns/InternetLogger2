{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/react-complete-guide-code-03-react-basics-working-with-components/code/section 14-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/react-complete-guide-code-03-react-basics-working-with-components/code/section 14-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sungjaejoo/Desktop/Protek/\\u110B\\u1167\\u11AB\\u1109\\u1173\\u11B8\\u1111\\u1161\\u110B\\u1175\\u11AF/Web/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/react-complete-guide-code-03-react-basics-working-with-components/code/section 14-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import NoteList from\"./components/NoteList\";import AddNote from\"./components/AddNote\";import\"./App.css\";import Login from\"./components/Login\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isCorrect=_useState6[0],setIsCorrect=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var correctPw=\"0623\";var fetchNoteHandler=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,loadedNotes,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\");case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;loadedNotes=[];for(key in data){loadedNotes.push({id:key,title:data[key].title,text:data[key].text,date:data[key].date});}console.log(loadedNotes);setNote(loadedNotes);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);setError(_context.t0.message);case 20:setIsLoading(false);case 21:case\"end\":return _context.stop();}}},_callee,null,[[2,17]]);})),[]);useEffect(function(){fetchNoteHandler();},[fetchNoteHandler]);var pwHandler=function pwHandler(pw){if(pw===correctPw){setIsCorrect(true);}console.log(pw);};function addNoteHandler(_x){return _addNoteHandler.apply(this,arguments);}function _addNoteHandler(){_addNoteHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(movie){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\",{method:\"POST\",body:JSON.stringify(movie),headers:{\"Content-Type\":\"appication/json\"}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;console.log(data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _addNoteHandler.apply(this,arguments);}var content=/*#__PURE__*/React.createElement(\"p\",null,\"Found no Notes.\");if(note.length>0){content=/*#__PURE__*/React.createElement(NoteList,{note:note});}if(error){content=/*#__PURE__*/React.createElement(\"p\",null,error);}if(isLoading){content=/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\");}return/*#__PURE__*/React.createElement(React.Fragment,null,!isCorrect?/*#__PURE__*/React.createElement(Login,{pw:pwHandler}):/*#__PURE__*/React.createElement(\"div\",null,\" \",/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"white\"}},\"Log Format\"),/*#__PURE__*/React.createElement(AddNote,{AddNote:addNoteHandler})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:fetchNoteHandler},\"Update Notes\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"white\"}},\"Log\"),content)));}export default App;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/Protek/연습파일/Web/리액트/react-complete-guide-code-03-react-basics-working-with-components/code/section 14-2/src/App.js"],"names":["React","useState","useEffect","useCallback","NoteList","AddNote","Login","App","note","setNote","isLoading","setIsLoading","isCorrect","setIsCorrect","error","setError","correctPw","fetchNoteHandler","fetch","response","ok","Error","json","data","loadedNotes","key","push","id","title","text","date","console","log","message","pwHandler","pw","addNoteHandler","movie","method","body","JSON","stringify","headers","content","length","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\n\nimport NoteList from \"./components/NoteList\";\nimport AddNote from \"./components/AddNote\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\nfunction App() {\n  const [note, setNote] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isCorrect, setIsCorrect] = useState(false);\n  const [error, setError] = useState(null);\n  const correctPw = \"0623\";\n  const fetchNoteHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      const loadedNotes = [];\n      for (const key in data) {\n        loadedNotes.push({\n          id: key,\n          title: data[key].title,\n          text: data[key].text,\n          date: data[key].date,\n        });\n      }\n\n      console.log(loadedNotes);\n      setNote(loadedNotes);\n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchNoteHandler();\n  }, [fetchNoteHandler]);\n\n  const pwHandler = (pw) => {\n    if (pw === correctPw) {\n      setIsCorrect(true);\n    }\n    console.log(pw);\n  };\n\n  async function addNoteHandler(movie) {\n    const response = await fetch(\n      \"https://react-http-2887f-default-rtdb.firebaseio.com/notes.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(movie),\n        headers: {\n          \"Content-Type\": \"appication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n  }\n\n  let content = <p>Found no Notes.</p>;\n\n  if (note.length > 0) {\n    content = <NoteList note={note} />;\n  }\n\n  if (error) {\n    content = <p>{error}</p>;\n  }\n\n  if (isLoading) {\n    content = <p>Loading...</p>;\n  }\n\n  return (\n    <React.Fragment>\n      {!isCorrect ? (\n        <Login pw={pwHandler}></Login>\n      ) : (\n        <div>\n          {\" \"}\n          <section>\n            <h2 style={{ color: \"white\" }}>Log Format</h2>\n            <AddNote AddNote={addNoteHandler}></AddNote>\n          </section>\n          <section>\n            <button onClick={fetchNoteHandler}>Update Notes</button>\n          </section>\n          <section>\n            <h2 style={{ color: \"white\" }}>Log</h2>\n            {content}\n          </section>\n        </div>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}