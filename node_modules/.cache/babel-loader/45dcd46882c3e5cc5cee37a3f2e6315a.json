{"ast":null,"code":"import{Divider}from\"@mui/material\";import{TextField}from\"@mui/material\";import{Grid}from\"@mui/material\";import{Typography}from\"@mui/material\";import React,{useRef}from\"react\";import{logIn}from\"../../Service/ApiService\";import{useNavigate}from\"react-router-dom\";import{usersActions}from\"../../store/userSlice\";import{useSelector,useDispatch}from\"react-redux\";var Login=function Login(props){var dispatch=useDispatch();var idRef=useRef(\"\");var pwRef=useRef(\"\");var navigate=useNavigate();var reduxidToken=useSelector(function(state){return state.idToken;});var formHandler=function formHandler(){var a=logIn(idRef.current.value,pwRef.current.value);a.then(function(r){console.log(r);if((r===null||r===void 0?void 0:r.registered)===true&&(r===null||r===void 0?void 0:r.displayName)===\"Hans\"||(r===null||r===void 0?void 0:r.registered)===true&&(r===null||r===void 0?void 0:r.displayName)===\"Sarah\"){dispatch(usersActions.updateIdToken(r.idToken));dispatch(usersActions.updateIsLoggedIn(true));dispatch(usersActions.updateUser(r===null||r===void 0?void 0:r.displayName));localStorage.setItem(\"token\",r.idToken);localStorage.setItem(\"isLoggedIn\",true);localStorage.setItem(\"user\",r===null||r===void 0?void 0:r.displayName);navigate(\"/hompageen\");}else if((r===null||r===void 0?void 0:r.registered)===true&&(r===null||r===void 0?void 0:r.displayName)===\"성재\"||(r===null||r===void 0?void 0:r.registered)===true&&(r===null||r===void 0?void 0:r.displayName)===\"엄마\"||(r===null||r===void 0?void 0:r.registered)===true&&(r===null||r===void 0?void 0:r.displayName)===\"은지\"||(r===null||r===void 0?void 0:r.registered)===true&&(r===null||r===void 0?void 0:r.displayName)===\"아빠\"){dispatch(usersActions.updateIdToken(r.idToken));dispatch(usersActions.updateIsLoggedIn(true));dispatch(usersActions.updateUser(r===null||r===void 0?void 0:r.displayName));localStorage.setItem(\"token\",r.idToken);localStorage.setItem(\"isLoggedIn\",true);localStorage.setItem(\"user\",r===null||r===void 0?void 0:r.displayName);navigate(\"/hompagekr\");}else if((r===null||r===void 0?void 0:r.registered)===true){alert(\"You are not authorized to use this service. \\n당신은 승인받지 않은 사용자입니다.\");}});};console.log(reduxidToken);return/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"white\"},\"Input the password to access the Message Log.\"),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"white\"},\"\\uB85C\\uADF8\\uC5D0 \\uC811\\uC18D \\uD558\\uB824\\uBA74 \\uC544\\uC774\\uB514\\uC640 \\uD328\\uC2A4\\uC6CC\\uB4DC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"),/*#__PURE__*/React.createElement(Divider,{sx:{backgroundColor:\"white\",marginTop:\"10px\"}}),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4,style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:3}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{required:true,color:\"primary\",sx:{input:{borderRadius:\"5px\",border:\"1px solid white\",color:\"white\"}},margin:\"dense\",name:\"Email\",label:\"Email\",type:\"text\",fullWidth:true,inputRef:idRef}),/*#__PURE__*/React.createElement(TextField,{margin:\"dense\",required:true,name:\"pw\",sx:{input:{borderRadius:\"5px\",border:\"1px solid white\",color:\"white\"}},label:\"Password\",type:\"password\",fullWidth:true,inputRef:pwRef}),/*#__PURE__*/React.createElement(\"button\",{style:{marginTop:\"30px\"},onClick:formHandler},\"Submit\"))));};export default Login;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/InterLogger Version2/src/components/LogInForm/Loginform.js"],"names":["Divider","TextField","Grid","Typography","React","useRef","logIn","useNavigate","usersActions","useSelector","useDispatch","Login","props","dispatch","idRef","pwRef","navigate","reduxidToken","state","idToken","formHandler","a","current","value","then","r","console","log","registered","displayName","updateIdToken","updateIsLoggedIn","updateUser","localStorage","setItem","alert","backgroundColor","marginTop","input","borderRadius","border","color"],"mappings":"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","sourcesContent":["import { Divider } from \"@mui/material\";\nimport { TextField } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nimport { Typography } from \"@mui/material\";\nimport React, { useRef } from \"react\";\nimport { logIn } from \"../../Service/ApiService\";\nimport { useNavigate } from \"react-router-dom\";\nimport { usersActions } from \"../../store/userSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Login = (props) => {\n  const dispatch = useDispatch();\n  const idRef = useRef(\"\");\n  const pwRef = useRef(\"\");\n  let navigate = useNavigate();\n  const reduxidToken = useSelector((state) => state.idToken);\n\n  const formHandler = () => {\n    const a = logIn(idRef.current.value, pwRef.current.value);\n    a.then((r) => {\n      console.log(r);\n      if (\n        (r?.registered === true && r?.displayName === \"Hans\") ||\n        (r?.registered === true && r?.displayName === \"Sarah\")\n      ) {\n        dispatch(usersActions.updateIdToken(r.idToken));\n        dispatch(usersActions.updateIsLoggedIn(true));\n        dispatch(usersActions.updateUser(r?.displayName));\n        localStorage.setItem(\"token\", r.idToken);\n        localStorage.setItem(\"isLoggedIn\", true);\n        localStorage.setItem(\"user\", r?.displayName);\n        navigate(\"/hompageen\");\n      } else if (\n        (r?.registered === true && r?.displayName === \"성재\") ||\n        (r?.registered === true && r?.displayName === \"엄마\") ||\n        (r?.registered === true && r?.displayName === \"은지\") ||\n        (r?.registered === true && r?.displayName === \"아빠\")\n      ) {\n        dispatch(usersActions.updateIdToken(r.idToken));\n        dispatch(usersActions.updateIsLoggedIn(true));\n        dispatch(usersActions.updateUser(r?.displayName));\n        localStorage.setItem(\"token\", r.idToken);\n        localStorage.setItem(\"isLoggedIn\", true);\n        localStorage.setItem(\"user\", r?.displayName);\n        navigate(\"/hompagekr\");\n      } else if (r?.registered === true) {\n        alert(\n          \"You are not authorized to use this service. \\n당신은 승인받지 않은 사용자입니다.\"\n        );\n      }\n    });\n  };\n\n  console.log(reduxidToken);\n  return (\n    <section>\n      <Typography variant=\"h6\" color=\"white\">\n        Input the password to access the Message Log.\n      </Typography>\n      <Typography variant=\"h6\" color=\"white\">\n        로그에 접속 하려면 아이디와 패스워드를 입력해주세요.\n      </Typography>\n      <Divider sx={{ backgroundColor: \"white\", marginTop: \"10px\" }} />\n      <Grid container spacing={4} style={{ marginTop: \"10px\" }}>\n        <Grid item xs={12} sm={3}>\n          {}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            required\n            color=\"primary\"\n            sx={{\n              input: {\n                borderRadius: \"5px\",\n                border: \"1px solid white\",\n                color: \"white\",\n              },\n            }}\n            margin=\"dense\"\n            name=\"Email\"\n            label=\"Email\"\n            type=\"text\"\n            fullWidth\n            inputRef={idRef}\n          />\n          <TextField\n            margin=\"dense\"\n            required\n            name=\"pw\"\n            sx={{\n              input: {\n                borderRadius: \"5px\",\n                border: \"1px solid white\",\n                color: \"white\",\n              },\n            }}\n            label=\"Password\"\n            type=\"password\"\n            fullWidth\n            inputRef={pwRef}\n          />\n          <button style={{ marginTop: \"30px\" }} onClick={formHandler}>\n            Submit\n          </button>\n        </Grid>\n      </Grid>\n    </section>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}